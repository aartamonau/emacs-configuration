(setq which-func-modes
      '(emacs-lisp-mode
        c-mode
        c++-mode
        python-mode
        makefile-mode
        sh-mode
        diff-mode
        erlang-mode
        haskell-mode))

(which-function-mode)
